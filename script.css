#include "crow_all.h"
#include <fstream>
#include <sstream>

// Function to read the contents of a file into a string
std::string read_file(const std::string& filepath) {
    std::ifstream file(filepath);
    std::stringstream buffer;
    buffer << file.rdbuf();
    return buffer.str();
}

int main() {
    crow::SimpleApp app;

    // Route for /scripts
    CROW_ROUTE(app, "/scripts")
    ([](){
        return read_file("scripts.html");
    });

    // Route for /executors
    CROW_ROUTE(app, "/executors")
    ([](){
        return read_file("executors.html");
    });

    // Route for /upload
    CROW_ROUTE(app, "/upload")
    ([](){
        return read_file("upload.html");
    });

    app.port(8080).multithreaded().run();
}